<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" 
		xmlns:mx="library://ns.adobe.com/flex/mx">
	<!-- host component -->
	<fx:Metadata>
		[HostComponent("HostComponents.BeatsHostComponent.BeatsHostComponent")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			protected function togglebutton1_clickHandler(event:MouseEvent):void
			{
				if(mT.selected)
				{
					tree1.includeInLayout = false;
					tree1.visible = false;
				}
				else
				{
					tree1.includeInLayout = true;
					tree1.visible = true;
				}
			}
		]]>
	</fx:Script>
	
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.events.ListEvent;
			
			protected function renameItem(event:ListEvent):void
			{
				tree1.editable = true;
				tree1.editedItemPosition = {columnIndex:0, rowIndex:tree1.selectedIndex};
			}
			
			protected function tree1_itemEditEndHandler(event:ListEvent):void
			{
				tree1.editable = false;
			}
			
			
			
			[Bindable]
			private var expensesAC:ArrayCollection = new ArrayCollection( [
				{ Month: "Jan", Profit: 2000, Expenses: 1500, Amount: 450 },
				{ Month: "Feb", Profit: 1000, Expenses: 200, Amount: 600 },
				{ Month: "Mar", Profit: 1500, Expenses: 500, Amount: 300 },
				{ Month: "Apr", Profit: 1800, Expenses: 1200, Amount: 900 },
				{ Month: "May", Profit: 2400, Expenses: 575, Amount: 500 } ]);
			
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<mx:SolidColor id="sc1" color="blue" alpha=".3"/>
		<mx:Stroke id="stroke1" color="blue" weight="1"/>
	</fx:Declarations>
	
	<s:VGroup width="100%">
		<s:HGroup>
			<s:VGroup>
				<s:DropDownList id="mAgentList"
								labelField="label"
								width="300"
								prompt="Select location"/>
				<!-- here must be visualization component of connections... -->
			</s:VGroup>
			<s:VGroup>
				<s:Label text="BEAT" 
						 fontWeight="bold" 
						 fontSize="14" 
						 color="0x000000"/>
				<s:Label text="Description:"/>
				<s:TextArea id="mBeatDescriptionField"
							prompt="Enter description"
							width="300"/>
				<s:Label text="Agent:"/>
				<s:DropDownList id="mChooseAgentList"
								width="300"
								prompt="Choose agent"/>
				<s:Label text="XGML Theme:"/>
				<s:TextInput id="mXgmlField"
							 width="300"
							 prompt="Choose XGML theme"/>
				<s:Label text="Location:"/>
				<s:DropDownList id="mLocationList"
								width="300"
								prompt="Choose location"/>
				<s:Label text="Type:"/>
				<s:DropDownList id="mTypeList"
								width="300"/>
				<s:Label text="Priority:"/>
				<s:TextInput id="mPriorityField"
							 text="0"
							 width="300"
							 restrict="0-9"
							 maxChars="3"/>
				<s:Label text="Activities:"/>
				<s:TextArea id="mActivitiesField"
							prompt="Enter activities"
							width="300"/>
			</s:VGroup>	
			<s:VGroup>
				<s:Label text="Preconditions" 
						 fontWeight="bold" 
						 fontSize="14" 
						 color="0x000000"/>
				<s:Label text="Description:"/>
				<s:TextArea id="mPreconditionsDescriptionField"
							prompt="Enter description"
							width="300"/>
				<s:Label text="Facts known to user:"/>
				<s:TextArea id="mFactsKnownToUser"
							width="300"
							editable="false"/>
				<s:Label text="Facts known to agent:"/>
				<s:TextArea id="mFactsKnownToAgent"
							width="300"
							editable="false"/>
				<s:Label text="Beats completed:"/>
				<s:TextInput id="mBeatsCompletedField"
							 prompt="Comma - separated list fo ids"
							 width="300"/>
				<s:Label text="Affinity:" 
						 width="300"
						 textAlign="center"/>
				<s:HGroup width="100%"
						  horizontalAlign="center">
					<s:TextInput id="mAffinityMinField"
								 text="0"
								 width="100%"
								 restrict="0-9"
								 maxChars="3"/>
					<s:TextInput id="mAffinityMaxField"
								 text="0"
								 width="100%"
								 restrict="0-9"
								 maxChars="3"/>
				</s:HGroup>
				<s:Label text="Nerve:" 
						 width="300"
						 textAlign="center"/>
				<s:HGroup width="100%"
						  horizontalAlign="center">
					<s:TextInput id="mNerveMinField" 
								 text="0"
								 width="100%"
								 restrict="0-9"
								 maxChars="3"/>
					<s:TextInput id="mNerveMaxField"
								 text="0"
								 width="100%"
								 restrict="0-9"
								 maxChars="3"/>
				</s:HGroup>	
			</s:VGroup>
			<mx:HDividedBox width="664" height="100%">
					<mx:Tree id="tree1" width="160" height="100%" allowMultipleSelection="true"
							 labelField="@label"
							 doubleClickEnabled="true"
							 dragEnabled="true" dragMoveEnabled="true" dropEnabled="true"
							 horizontalCenter="0" itemDoubleClick="renameItem(event)"
							 itemEditEnd="tree1_itemEditEndHandler(event)" showRoot="true"
							 verticalCenter="-133">
						<mx:XMLListCollection id="MailBox">
							<fx:XMLList>
								<Description label="Mail">
									<folder label="INBOX"/>
									<folder label="Personal Folder">
									<Pfolder label="Business" />
									<Pfolder label="Demo" />
									<Pfolder label="Personal" isBrunch="true"/>
									<Pfolder label="Saved Mail" />
									</folder>
									<folder label="Sent" />
									<folder label="Trash" />
									<folder label="INBOX"/>
									<folder label="Personal Folder">
										<Pfolder label="Business" />
										<Pfolder label="Demo" />
										<Pfolder label="Personal" isBrunch="true"/>
										<Pfolder label="Saved Mail" />
									</folder>
									<folder label="Sent" />
									<folder label="Trash" />
									<folder label="INBOX"/>
									<folder label="Personal Folder">
										<Pfolder label="Business" />
										<Pfolder label="Demo" />
										<Pfolder label="Personal" isBrunch="true"/>
										<Pfolder label="Saved Mail" />
									</folder>
									<folder label="Sent" />
									<folder label="Trash" />
									<folder label="INBOX"/>
									<folder label="Personal Folder">
										<Pfolder label="Business" />
										<Pfolder label="Demo" />
										<Pfolder label="Personal" isBrunch="true"/>
										<Pfolder label="Saved Mail" />
										<folder label="Personal Folder">
											<Pfolder label="Business" />
											<Pfolder label="Demo" />
											<Pfolder label="Personal" isBrunch="true"/>
											<Pfolder label="Saved Mail" />
											<folder label="Personal Folder">
												<Pfolder label="Business" />
												<Pfolder label="Demo" />
												<Pfolder label="Personal" isBrunch="true"/>
												<Pfolder label="Saved Mail" />
												<folder label="Personal Folder">
													<Pfolder label="Business" />
													<Pfolder label="Demo" />
													<Pfolder label="Personal" isBrunch="true"/>
													<Pfolder label="Saved Mail" />
													<folder label="Personal Folder">
														<Pfolder label="Business" />
														<Pfolder label="Demo" />
														<Pfolder label="Personal" isBrunch="true"/>
														<Pfolder label="Saved Mail" />
													</folder>
												</folder>
											</folder>
										</folder>
									</folder>
									<folder label="Sent" />
									<folder label="Trash" />
									<folder label="INBOX"/>
									<folder label="Personal Folder">
										<Pfolder label="Business" />
										<Pfolder label="Demo" />
										<Pfolder label="Personal" isBrunch="true"/>
										<Pfolder label="Saved Mail" />
									</folder>
									<folder label="Sent" />
									<folder label="Trash" />
									<folder label="INBOX"/>
									<folder label="Personal Folder">
										<Pfolder label="Business" />
										<Pfolder label="Demo" />
										<Pfolder label="Personal" isBrunch="true"/>
										<Pfolder label="Saved Mail" />
									</folder>
									<folder label="Sent" />
									<folder label="Trash" />
								</Description>
							</fx:XMLList>
						</mx:XMLListCollection>
					</mx:Tree>
				
				<mx:Canvas label="Canvas 2" width="100%" height="100%" backgroundColor="#323232" >
					
					<mx:Panel title="BubbleChart Control Example" height="100%" width="100%">
						<s:HGroup width="100%" horizontalAlign="left">
							<s:ToggleButton id="mT"  click="togglebutton1_clickHandler(event)"/>
						</s:HGroup>
						<mx:BubbleChart id="bubblechart" 
										height="100%" width="100%"
										paddingRight="5" paddingLeft="5" 
										showDataTips="false" maxRadius="20"
										dataProvider="{expensesAC}"
										showAllDataTips="false"
										dragEnabled="true"
										dragMoveEnabled="true"
										dropEnabled="true"
										selectionMode="multiple">
							<mx:series>
								<mx:BubbleSeries 
									displayName="Profit/Expenses/Amount" 
									xField="Profit" 
									yField="Expenses" 
									radiusField="Amount"
									fill="{sc1}"
									stroke="{stroke1}"/>
							</mx:series>            
						</mx:BubbleChart>            
						<mx:Legend dataProvider="{bubblechart}"/>            
					</mx:Panel>
				</mx:Canvas>
			</mx:HDividedBox>
		</s:HGroup>
		<s:HGroup width="100%"
				  horizontalAlign="center">
			<s:Button id="mSave"
					  label="SAVE" 
					  width="300"/>
			<s:Button id="mDelete"
					  label="DELETE" 
					  width="300"/>
		</s:HGroup>	
	</s:VGroup>
	
	
	
	
	
</s:Skin>
