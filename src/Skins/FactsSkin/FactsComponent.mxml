<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" 
		xmlns:mx="library://ns.adobe.com/flex/mx"
		creationComplete="skin1_creationCompleteHandler(event)">
	<!-- host component -->
	<fx:Metadata>
		[HostComponent("HostComponents.FactsHostComponent.FactsHostComponent")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import HttpService.HttpServiceManager;
			
			import mx.rpc.events.ResultEvent;
			protected function button1_clickHandler(event:MouseEvent):void
			{
				HttpServiceManager.httpService.addEventListener(ResultEvent.RESULT, getRes);
			}
			
			private function getRes(event:ResultEvent):void
			{
				var tmp:Object;
				tmp = JSON.parse(event.result as String);
				trace(tmp);
			}
			
			protected function mAgentsList_clickHandler(event:MouseEvent):void
			{
				var mContextMenuItem:ContextMenuItem = new ContextMenuItem("Copy Data");
				mContextMenuItem.addEventListener(ContextMenuEvent.MENU_ITEM_SELECT, copyData);
				
				var mContextMenu:ContextMenu = new ContextMenu();
				mContextMenu.hideBuiltInItems();
				mContextMenu.customItems = [mContextMenuItem];
				
				contextMenu = mContextMenu;
				
			}
			
			private function copyData(event:ContextMenuEvent):void
			{
				System.setClipboard(mAgentsList.selectedItem);	
			}
			
		]]>
	</fx:Script>
	
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.events.FlexEvent;
			
			
			[Bindable]
			public var mFactsListData:ArrayCollection;
			
			protected function skin1_creationCompleteHandler(event:FlexEvent):void
			{ 
				
				mFactsListData = new ArrayCollection([{label:"Electronics", data:1, desc: "hello"}, 
													 {label:"Home Good", data:232, desc: "hellocvcvd"},
													 {label:"Home Gods", data:32423552, desc: "helldfdfffdfo"},
													 {label:"Goods", data:3453452, desc: "hellodsfdfdfdfgfgfg"},
													 {label:"oe Gds", data:3454532, desc: "hellogdsdgerffbhfbv"},
													 {label:"Ho Goo", data:34534542, desc: "hellofkgjfdkgghgfh"},
													 {label:"Hoe Gs", data:25345345, desc: "hellfhjnfgiubo"},
													 {label:"Hom Goo", data:453453452, desc: "hellognbv"},
													 {label:"H ds", data:453453452, desc: "hellfjbfvbo"},
													 {label:"e ds", data:345345345342, desc: "hellgvfgfo"},
													 {label:"o G", data:3453452, desc: "hellfbgjbgo"},
													 {label:"e s", data:2345345345, desc: "hellbjfbfo"},
													 {label:"Hmjje Gfgfgoods", data:3453452, desc: "hellobfiofbfbhngnglngngnghnlgng;n,glmngl;ng"},
													 {label:"Home Gdfgdfg", data:3453452, desc: "hellohiofnfb rigjuriotrhgright g"},
													 {label:"Home Goods", data:3453452, desc: "hellnbkg;ngklno"},
													 {label:"Home Goods", data:345345342, desc: "hellobgknfbkfnbkb"},
													 {label:"Toys", data:3453453453453453, desc: "hellogbklgnbgbngbngkbgbkmgbklggkbmgklbmgklbmgklbmgkbmgbmkgeokfeoire okb"} ]);
			}
			
			protected function mFactsList_clickHandler(event:MouseEvent):void
			{
				trace(mFactsList.selectedItem);
//				mAgentsList.selectedItem = mFactsList.selectedItem;
				mAgentsList.selectedItems = mFactsList.selectedItems;
			}
			
		]]>
	</fx:Script>
	<s:VGroup>
		<s:HGroup>
			<s:DropDownList id="characterList"
							labelField="label"
							dataProvider="{hostComponent.tmpData}"
							prompt="Select character"
							width="300"/>	
		</s:HGroup>
		<!--Start Horizontal group of components-->
		<s:HGroup>
			<!--Start Datagrid-->
			<s:DataGrid id="mFactsList" 
						minWidth="300"
						maxWidth="300"
						minHeight="300"
						maxHeight="300"
						borderVisible="false"
						editable="true"
						selectionMode="multipleRows"
						sortableColumns="false"
						resizableColumns="false"
						dataProvider="{mFactsListData}"
						click="mFactsList_clickHandler(event)">
				<s:columns>
					<s:ArrayList>
						<s:GridColumn dataField="data" headerText="Id"/>
						<s:GridColumn dataField="data" headerText="xgmlId"/>
						<s:GridColumn dataField="desc" headerText="Description"/>
					</s:ArrayList>
				</s:columns>
			</s:DataGrid>
			<!--end DataGrid-->
			<s:VGroup>
				<s:Label text="ID in XGML:"/>
				<s:TextInput id="mFactsIdLabel"
						 	 text="{mFactsList.selectedItem.data}"
							 editable="false" 
							 selectable="false"/>		
				<s:Label text="Description:"/>
				<s:TextArea id="mFactsDescriptionArea"
							text="{mFactsList.selectedItem.desc}"/>
			</s:VGroup>
			<s:HGroup>
				<s:VGroup>
					<s:Label text="Agents:"/>
					<s:List id="mAgentsList"
							minWidth="300"
							maxWidth="300"
							minHeight="300"
							maxHeight="300"
							labelField="label"
							allowMultipleSelection="true"
							dataProvider="{mFactsListData}"/>	
				</s:VGroup>
			</s:HGroup>
			
		</s:HGroup>
		<!--end Horizontal group of components-->
		
	</s:VGroup>
	
	
	
	
	
</s:Skin>
